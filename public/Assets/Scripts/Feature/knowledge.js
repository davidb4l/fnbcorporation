/* This is a GULP generated file, DO NOT edit directly. */!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"querySelector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return null==t?[]:[].slice.call(t.querySelectorAll(e))}},{key:"isIE11",value:function(){return!!window.MSInputMethodContext&&!!document.documentMode}},{key:"lastFocusable",value:function(t){return e.querySelector(e.focusable,t).slice(-1)[0]}},{key:"addClosestPolyFill",value:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}},{key:"slugify",value:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},{key:"firstFocusable",value:function(t){return e.querySelector(e.focusable,t)[0]}},{key:"getFormData",value:function(t){var n=[];return e.querySelector("button, input, textarea",t).forEach((function(e){var t=e.getAttribute("name");""!==t&&null!=t||(t=e.getAttribute("id")),n[t]={value:e.value,required:e.hasAttribute("required"),el:e}})),n}},{key:"parent",value:function(e,t){for(var n=!1,o=e;!n;){if(!o)return null;(o=o.parentNode)&&o.classList&&o.classList.contains(t)&&(n=!0)}return o}},{key:"isJson",value:function(e){try{JSON.parse(e)}catch(e){return!1}return!0}},{key:"index",value:function(t){var n=null;return e.getSiblings(t,!0).forEach((function(e,o){e!==t&&e.innerHTML.toString()!==t.innerHTML.toString()||(n=o)})),n}},{key:"getSiblings",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[],r=e.parentNode.firstChild;r;)1!==r.nodeType||!t&&r===e||(null===n||r.classList.contains(n))&&o.push(r),r=r.nextSibling?r.nextSibling:null;return o}},{key:"scrollTo",value:function(t,n,o){if(!(o<=0)){var r=(n-t.scrollY)/o*10;setTimeout((function(){window.scrollTo(0,t.scrollY+r),t.scrollY!==n&&e.scrollTo(t,n,o-10)}),5)}}}],null&&o(t.prototype,null),n&&o(t,n),e}();r(l,"easings",{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),r(l,"focusable",'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');var a=l;function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.busy=!1,this.desktopOnlyElements=a.querySelector("[data-fnb-knowledge-center-desktop-only-selector]"),window.addEventListener("resize",(function(){n.setMode()})),this.setMode(),this.loadingArea=this.el.querySelector("[data-fnb-knowledge-center-loading-area-selector]"),this.currentCategory=this.el.querySelector(".".concat(e.ActiveButtonClass)).getAttribute("data-fnb-knowledge-center-category-selector"),this.setCategoryFromButton=this.setCategoryFromButton.bind(this),this.closeClick=this.closeClick.bind(this),this.cancelClick=this.cancelClick.bind(this),this.openModal=this.openModal.bind(this),this.submitFunc=this.submitFunc.bind(this),this.setCategoryClick=this.setCategoryClick.bind(this),this.gotAllArticles=this.gotAllArticles.bind(this),this.gotArticles=this.gotArticles.bind(this),this.setCategory=this.setCategory.bind(this),this.buttons=a.querySelector("[data-fnb-knowledge-center-category-selector],\n      .knowledge-center-filters__button",this.el),this.buttons.forEach((function(e){e.addEventListener("click",n.setCategoryClick)}));var o=!0;if(window.location.search.indexOf("?")>=0&&window.location.search.length>1){var r=window.location.search.substr(1),l=a.querySelector('.knowledge-center-filters__button[data-slug="'.concat(r,'"]'),t)[0];l&&(o=!1,this.setCategoryFromButton(l))}o&&(this.allLoaded=!0,this.loadAll())}var t,n;return t=e,(n=[{key:"setMode",value:function(){this.desktopOnlyElements.forEach((function(e){e.setAttribute("aria-hidden",window.innerWidth>=900?"false":"true")}))}},{key:"setCategoryClick",value:function(t){var n=t.currentTarget;n.classList.contains(e.ActiveButtonClass)||this.setCategoryFromButton(n)}},{key:"setCategoryFromButton",value:function(e){this.setCategory(e.getAttribute("data-fnb-knowledge-center-category-selector"),e.getAttribute("data-categoryid"),e.getAttribute("data-contextpageid"),e.getAttribute("data-slug"))}},{key:"setCategory",value:function(t,n,o,r){if(!this.busy){if(this.busy=!0,this.el.querySelector('[data-fnb-knowledge-center-category-selector="'.concat(t,'"]')).classList.add(e.ActiveButtonClass),this.el.querySelector('[data-fnb-knowledge-center-category-selector="'.concat(this.currentCategory,'"]')).classList.remove(e.ActiveButtonClass),this.currentCategory=t,this.categoryId=n,this.contextPageId=o,0===t||"0"===t){var l=this.el.querySelector("[data-fnb-knowledge-center-hidden-on-active-category-selector]");a.querySelector(".article-thumb",l).length<=3?this.loadAll():(this.busy=!1,this.el.querySelector(".knowledge-center-filters__button").classList.add("knowledge-center-filters__button--active"));var i=this.el.querySelector(".knowledge-center__loaded-content");i.setAttribute("aria-hidden","true"),i.classList.remove("knowledge-center__loaded-content--active"),i.classList.remove("knowledge-center__loaded-content--in-place");var c=this.el.querySelector("[data-fnb-knowledge-center-hidden-on-active-category-selector]");c.classList.remove("knowledge-center__articles--leaving"),c.classList.remove("knowledge-center__articles--hidden"),c.removeAttribute("aria-hidden")}else this.load();history.pushState({},document.title,"".concat(window.location.pathname,"?").concat(r))}}},{key:"loadAll",value:function(){this.loadingArea.classList.add("knowledge-center__filters-and-content--loading");var e=this.el.querySelector(".knowledge-center-filters__button"),t=new XMLHttpRequest;e.classList.add("knowledge-center-filters__button--active"),t.open("GET","/fnbapi/knowledgecenter/getarticles?contextPageId=".concat(e.getAttribute("data-contextPageId"),"&categoryId=").concat(e.getAttribute("data-categoryId"),"&isSubcategory=false"),!0),t.send(),t.addEventListener("readystatechange",this.gotAllArticles,!1)}},{key:"load",value:function(){this.loadingArea.classList.add("knowledge-center__filters-and-content--loading"),this.el.querySelector("[data-fnb-knowledge-center-hidden-on-active-category-selector]").classList.add("knowledge-center__articles--leaving"),a.scrollTo(window,document.querySelector(".two-col-desktop").offsetTop-150,300),this.el.querySelector(".knowledge-center__loaded-content").classList.add("knowledge-center__loaded-content--leaving");var e=new XMLHttpRequest;e.open("GET","/fnbapi/knowledgecenter/getarticles?contextPageId=".concat(this.contextPageId,"&categoryId=").concat(this.categoryId,"&isSubcategory=true"),!0),e.send(),e.addEventListener("readystatechange",this.gotArticles,!1)}},{key:"gotArticles",value:function(e){if(4===e.target.readyState&&200===e.target.status){var t=e.target.responseText;this.loadComplete(t)}}},{key:"gotAllArticles",value:function(e){if(4===e.target.readyState&&200===e.target.status){var t=e.target.responseText;this.loadingArea.classList.remove("knowledge-center__filters-and-content--loading");var n=this.el.querySelector("[data-fnb-knowledge-center-hidden-on-active-category-selector]");n.innerHTML+=t;try{window.videoModal.addPlayClicks(n)}catch(e){}try{picturefill()}catch(e){}this.busy=!1}}},{key:"loadComplete",value:function(e){var t=this,n=this.el.querySelector("[data-fnb-knowledge-center-category-content-selector]");n.innerHTML=e;try{window.videoModal.addPlayClicks(n)}catch(e){window.FNB.funcsToCallOnLoad||(window.FNB.funcsToCallOnLoad=[]),window.FNB.funcsToCallOnLoad.push((function(){window.videoModal.addPlayClicks(n)}))}this.el.querySelector(".knowledge-center__loaded-content").classList.remove("knowledge-center__loaded-content--leaving"),this.el.querySelector(".knowledge-center__loaded-content").classList.add("knowledge-center__loaded-content--active"),this.loadingArea.classList.remove("knowledge-center__filters-and-content--loading"),this.el.querySelector(".knowledge-center__loaded-content").removeAttribute("aria-hidden");try{picturefill()}catch(e){}setTimeout((function(){t.loadedContentInPosition();try{picturefill()}catch(e){}}),310)}},{key:"openModal",value:function(e){var t=document.getElementById(e.currentTarget.getAttribute("aria-controls"));this.modal=t,t.showModal(),t.classList.add("dialog--entering-from-right");var n=a.querySelector("[data-fnb-modal-close-selector]",t)[0],o=t.querySelector("[data-fnb-filterable-article-list-form-selector]");t.querySelector("[data-fnb-filterable-product-list-clear-selector]").addEventListener("click",this.cancelClick),o.addEventListener("submit",this.submitFunc),n.addEventListener("click",this.closeClick)}},{key:"unselectAll",value:function(){a.querySelector("[data-fnb-filterable-article-list-filter-checkbox-selector]").forEach((function(e){e.checked=!1}))}},{key:"cancelClick",value:function(e){return this.unselectAll(),e.preventDefault(),this.closeModal(e),this.load(),!1}},{key:"submitFunc",value:function(e){return e.preventDefault(),this.closeModal(e),this.load(),!1}},{key:"closeClick",value:function(e){this.closeModal(e)}},{key:"closeModal",value:function(e){var t=this.modal;a.querySelector("[data-fnb-modal-close-selector]",t)[0],t.querySelector("[data-fnb-filterable-product-list-form-selector]"),t.querySelector("[data-fnb-filterable-product-list-clear-selector]"),t.classList.add("dialog--leaving"),setTimeout((function(){t.close(),t.classList.remove("dialog--leaving"),t.classList.remove("dialog--entering-from-right")}),200)}},{key:"loadedContentInPosition",value:function(){var e=this;setTimeout((function(){var t=e.el.querySelector("[data-fnb-knowledge-center-hidden-on-active-category-selector]");t.setAttribute("aria-hidden","true"),t.classList.add("knowledge-center__articles--hidden"),e.busy=!1}),10),this.el.querySelector(".knowledge-center__loaded-content").classList.add("knowledge-center__loaded-content--in-place")}}])&&i(t.prototype,n),e}();c(s,"ButtonClass","knowledge-center-filters__button"),c(s,"ActiveButtonClass","".concat(s.ButtonClass,"--active"));var u=new s(document.querySelector(".knowledge-center")),d=window.FNB||d||{};d.KnowledgeCenter=u}]);